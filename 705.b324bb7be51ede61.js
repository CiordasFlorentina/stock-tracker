"use strict";(self.webpackChunkstock_app=self.webpackChunkstock_app||[]).push([[705],{9705:(b,p,s)=>{s.r(p),s.d(p,{SentimentsModule:()=>S});var c=s(6895),a=s(9833),t=s(8256),m=s(4004),u=s(6259),l=s(2014);let d=(()=>{class n{constructor(e,o){this.apiService=e,this.stockService=o,this.HISTORY_URL="/stock/insider-sentiment"}getHistory(e){const o=new Date,r=new Date;return o.setMonth(o.getMonth()-3),r.setMonth(r.getMonth()-1),this.apiService.get(this.HISTORY_URL,{symbol:e,from:(0,c.p6)(o,"yyyy-MM-dd","en"),to:(0,c.p6)(r,"yyyy-MM-dd","en")}).pipe((0,m.U)(O=>O.data))}getStockName(e){return this.stockService.getSymbol(e).pipe((0,m.U)(o=>o.description))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(u.s),t.LFG(l.q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h(n,i){1&n&&t._UZ(0,"i",7)}function f(n,i){if(1&n&&(t.TgZ(0,"div",4)(1,"p")(2,"strong"),t._uU(3),t.qZA()(),t.TgZ(4,"p"),t._uU(5,"Change: "),t.TgZ(6,"strong"),t._uU(7),t.qZA()(),t.TgZ(8,"p"),t._uU(9,"MSPR: "),t.TgZ(10,"strong"),t._uU(11),t.qZA()(),t.TgZ(12,"div",5)(13,"p"),t.YNc(14,h,1,0,"i",6),t.qZA()()()),2&n){const e=i.$implicit,o=t.oxw(),r=t.MAs(6);t.xp6(3),t.Oqu(o.getMonth(e.month)),t.xp6(4),t.Oqu(e.change),t.xp6(4),t.Oqu(e.mspr),t.xp6(3),t.Q6J("ngIf",e.mspr>0)("ngIfElse",r)}}function y(n,i){1&n&&t._UZ(0,"i",8)}let M=(()=>{class n{constructor(e){this.router=e,this.history=[],this.monthMapping=["january","february","march","april","may","june","july","august","september","october","november","december"]}getMonth(e){return this.monthMapping[e].toUpperCase()}goBack(){this.router.navigate([""])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["sentiment-history"]],inputs:{history:"history"},decls:7,vars:1,consts:[[1,"detail-container"],["class","info",4,"ngFor","ngForOf"],["id","backBtn",1,"go-back",3,"click"],["downArrow",""],[1,"info"],[1,"info","arrow"],["class","fa fa-arrow-up green",4,"ngIf","ngIfElse"],[1,"fa","fa-arrow-up","green"],[1,"fa","fa-arrow-down","red"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div"),t.YNc(2,f,15,5,"div",1),t.qZA()(),t.TgZ(3,"button",2),t.NdJ("click",function(){return o.goBack()}),t._uU(4,"Go to list of stocks"),t.qZA(),t.YNc(5,y,1,0,"ng-template",null,3,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngForOf",o.history))},dependencies:[c.sg,c.O5],styles:[".detail-container[_ngcontent-%COMP%]{border:1px solid #000000}.detail-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:10px}.detail-container[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{width:33%;display:inline-block}.detail-container[_ngcontent-%COMP%]   .info.arrow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:auto;width:50%;font-size:50px;opacity:.7}.detail-container[_ngcontent-%COMP%]   .info.arrow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .green[_ngcontent-%COMP%]{color:#006400}.detail-container[_ngcontent-%COMP%]   .info.arrow[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   .red[_ngcontent-%COMP%]{color:#8b0000}button[_ngcontent-%COMP%]{cursor:pointer}button.go-back[_ngcontent-%COMP%]{background-color:#f0f8ff;border:1px solid grey;border-radius:3px;margin-top:10px}"]}),n})(),g=(()=>{class n{constructor(e,o,r){this.route=e,this.activatedRoute=o,this.sentimentService=r,this.history=[],this.companyName="",this.symbol=""}ngOnInit(){this.symbol=this.activatedRoute.snapshot.paramMap.get("id")??"",this.symbol?(this.sentimentService.getHistory(this.symbol).subscribe(e=>this.history=e),this.sentimentService.getStockName(this.symbol).subscribe(e=>this.companyName=e)):this.route.navigate([""])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(a.F0),t.Y36(a.gz),t.Y36(d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-sentiment"]],decls:6,vars:3,consts:[[1,"sentiment-header"],[3,"history"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._uU(1,"Stock history "),t.TgZ(2,"strong"),t._uU(3),t.qZA()(),t.TgZ(4,"div"),t._UZ(5,"sentiment-history",1),t.qZA()),2&e&&(t.xp6(3),t.AsE("",o.companyName," (",o.symbol,")"),t.xp6(2),t.Q6J("history",o.history))},dependencies:[M],styles:[".sentiment-header[_ngcontent-%COMP%]{background-color:#f0f8ff;padding:20px 15px;margin-right:15px;margin-bottom:20px;font-size:15px}"]}),n})();const v=[{path:":id",component:g},{path:"**",component:g}];let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[a.Bz.forChild(v),a.Bz]}),n})(),S=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.ez,C]}),n})()}}]);